---
import "../styles/global.css";
import SwiperInit from "../components/SwiperInit.astro";
---

<html lang="de" style="color-scheme: light;">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ImmoBot – Moderne Immobilien-Demo-Website</title>
  <meta name="description" content="Immobilien und Wohnungen präsentieren – einfache Online-Demo, modernes Design, vorbereitet für Chatbot-Integration." />

  <!-- SEO & Social -->
  <meta property="og:title" content="ImmoBot – Immobilien-Demo-Website" />
  <meta property="og:description" content="Entdecken Sie, wie eine moderne Immobilien-Website aussehen könnte – als Demonstration mit Chatbot-Integration." />
  <!-- <meta property="og:image" content="/NAPRA_BILD.jpg" /> -->
  <meta property="og:type" content="website" />
  <meta name="twitter:card" content="summary_large_image" />

  <!-- Fonts & Tailwind -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet" />
</head>

<body class="bg-gray-50 text-gray-800">

<!-- ✅ HEADER -->
<header id="mainHeader" class="fixed top-0 w-full bg-gradient-to-r from-blue-100 to-white backdrop-blur-md border-b border-gray-200 shadow-sm z-50 transition-transform duration-300">
  <div class="max-w-7xl mx-auto flex justify-between items-center px-4 sm:px-6 py-3 sm:py-4">
    
    <!-- ✅ Logo -->
    <a href="#home" class="flex items-center gap-3">
      <!-- <img src="/NAPRA_BILD.jpg" alt="ImmoBot Logo" class="h-10 sm:h-12 w-auto object-contain"> -->
      <span class="text-xl sm:text-2xl font-bold text-gray-900">ImmoBot</span>
    </a>

    <!-- ✅ Navigation -->
  <nav class="hidden md:flex space-x-6 lg:space-x-8 text-gray-700 text-base lg:text-lg font-medium">
  <a href="#home" class="hover:text-blue-700 transition border-b-2 border-transparent hover:border-blue-700">Home</a>
  <a href="#about" class="hover:text-blue-700 transition border-b-2 border-transparent hover:border-blue-700">Über uns</a>
  <a href="#faq" class="hover:text-blue-700 transition border-b-2 border-transparent hover:border-blue-700">FAQ</a>
</nav>

    <!-- ✅ CTA Desktop -->
  <a href="#"
   onclick="window.chatbase && window.chatbase('open')"
   class="hidden md:inline-block bg-blue-600 text-white px-4 lg:px-5 py-2 rounded-lg font-semibold hover:bg-blue-700 shadow-md hover:shadow-lg transition text-sm lg:text-base">
   💬 ImmoBot starten
</a>

<script>
(function(){
  const CHATBASE_ID = "3YNF_5MxuzhyMN4QpmdLI"; // <-- deine Agent-ID hier
  const MAX_MESSAGES = 5; // Limit der Nachrichten pro Session
  let messageCount = 0;

  // Fallback-Queue, falls Chatbase noch nicht geladen ist
  if (!window.chatbase || window.chatbase("getState") !== "initialized") {
    const queue = [];
    const proxyHandler = {
      get(target, prop) {
        if (prop === "q") return queue;
        return (...args) => target(prop, ...args);
      }
    };

    const chatbaseFunc = (...args) => {
      // Nachrichten zählen
      if (args[0] === "sendMessage") {
        messageCount++;
        if (messageCount > MAX_MESSAGES) {
          alert("❌ Limit erreicht! Dies ist nur eine Demo-Version.\n\nBitte kontaktieren Sie uns unter immobot.team@gmail.com.");
          return;
        }
      }
      queue.push(args);
    };

    window.chatbase = new Proxy(chatbaseFunc, proxyHandler);
  }

  // Lädt das Chatbase Script
  const onLoad = function() {
    if (!document.getElementById(CHATBASE_ID)) {
      const script = document.createElement("script");
      script.src = "https://www.chatbase.co/embed.min.js";
      script.id = CHATBASE_ID;
      script.async = true;
      document.body.appendChild(script);
    }
  };

  // Direkt laden, wenn DOM fertig ist
  if (document.readyState === "complete") { 
    onLoad(); 
  } else { 
    window.addEventListener("load", onLoad); 
  }
})();
</script>


    <!-- ✅ Mobile Burger -->
    <button id="burgerBtn" class="md:hidden p-2 text-gray-700 hover:text-blue-600 focus:outline-none">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
      </svg>
    </button>
  </div>

  <!-- ✅ Mobile Menu -->
  <div id="mobileMenu" class="hidden absolute top-full left-0 w-full bg-white shadow-lg border-t border-gray-200 z-50 transform transition-all duration-300 ease-in-out">
    <nav class="flex flex-col items-center py-6 space-y-4 text-gray-700 text-lg font-medium">
      <a href="#home" class="hover:text-blue-600 transition mobile-link">Home</a>
      <a href="#about" class="hover:text-blue-600 transition mobile-link">Über uns</a>
      <a href="#faq" class="hover:text-blue-600 transition mobile-link">FAQ</a>
      <a href="#" 
         class="bg-blue-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-blue-700 transition">
        Exposé anfordern
      </a>
    </nav>
  </div>
</header>


<div id="menuOverlay" class="hidden fixed inset-0 bg-black bg-opacity-40 z-40"></div>


<!-- ✅ HERO -->
<section id="home" class="relative h-[70vh] md:h-screen flex flex-col justify-center items-center text-center bg-gradient-to-br from-blue-100 via-white to-blue-50 overflow-hidden">
  
  <!-- Deko -->
  <div class="absolute top-[-50px] left-[-50px] w-64 h-64 bg-blue-200 rounded-full opacity-30 animate-pulse"></div>
  <div class="absolute bottom-[-60px] right-[-60px] w-80 h-80 bg-blue-300 rounded-full opacity-20 animate-pulse"></div>
  
  <div class="relative max-w-3xl px-6 z-10">
    <!-- Headline -->
<h1 class="text-4xl sm:text-5xl md:text-7xl font-extrabold mb-6 text-gray-900 leading-tight">
  Immobilien-Chatbots neu gedacht. <br class="hidden sm:block"/> Einfach ausprobieren – kostenlos, live und jederzeit erlebbar.
</h1>


    
    <!-- Subtext -->
<p class="text-lg sm:text-xl md:text-2xl mb-8 font-light text-gray-700 leading-relaxed">
  Unser Chatbot beantwortet Immobilienanfragen automatisch – modern, effizient und rund um die Uhr verfügbar.
</p>

    
    <!-- CTA Button -->
    <a href="#" 
       class="inline-block bg-blue-600 text-white px-8 py-4 rounded-xl text-lg font-semibold shadow-lg hover:shadow-xl hover:bg-blue-700 transition-all duration-300">
      🔑 Immobilien ansehen
    </a>
  </div>
</section>


<!-- ✅ Über uns -->
<section id="about" class="relative py-12 md:py-20 px-6 bg-[#F6FAF7]" data-animate>
  <div class="relative max-w-4xl mx-auto text-center bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg p-8 md:p-10">
    <h2 class="text-3xl md:text-4xl font-bold mb-4">Über uns</h2>
    <p class="text-base md:text-lg leading-7 text-gray-700">
      ImmoBot ist eine reine Demoseite, die unseren Chatbot in Aktion zeigt.
Wir sind ein junges Team und möchten hier demonstrieren, wie unsere Chatbots in der Immobilienbranche aussehen und funktionieren.

Der Fokus liegt nicht auf der Website selbst, sondern auf der Qualität und dem Mehrwert unserer Chatbot-Lösungen.
    </p>
  </div>
</section>


<!-- ✅ Kundenstimmen -->
<section id="shop" class="bg-[#F1F4F8] py-12 md:py-16 mt-12 md:mt-16 rounded-t-3xl" data-animate>
  <div class="max-w-6xl mx-auto px-6">
    <h2 class="text-3xl md:text-4xl font-bold text-center mb-8 md:mb-10">
      Das sagen unsere Interessenten
    </h2>

    <!-- ✅ Scroll-Snap Container -->
    <div class="scroll-snap-container">
      
     <!-- Slide 1 -->
<div class="scroll-snap-slide">
  <div class="flex justify-center mb-2 text-blue-600">⭐⭐⭐⭐⭐</div>
  <p class="text-lg italic mb-4">„Sehr moderne Darstellung – ich konnte mir sofort einen guten Eindruck von der Wohnung verschaffen.“</p>
  <span class="block font-semibold">– Markus H.</span>
</div>

<!-- Slide 2 -->
<div class="scroll-snap-slide">
  <div class="flex justify-center mb-2 text-blue-600">⭐⭐⭐⭐⭐</div>
  <p class="text-lg italic mb-4">„Schnelle Rückmeldung und übersichtliche Informationen – genau so stellt man sich eine Immobilienseite vor.“</p>
  <span class="block font-semibold">– Julia K.</span>
</div>

<!-- Slide 3 -->
<div class="scroll-snap-slide">
  <div class="flex justify-center mb-2 text-blue-600">⭐⭐⭐⭐⭐</div>
  <p class="text-lg italic mb-4">„Sehr angenehme Demo! Alles wirkt professionell und realistisch.“</p>
  <span class="block font-semibold">– Thomas L.</span>
</div>

    </div>
  </div>
</section>




<!-- ✅ FAQ -->
<section id="faq" class="bg-[#F6FAF7] py-12 md:py-20 px-6" data-animate>
  <div class="max-w-3xl mx-auto">
    <h2 class="text-3xl md:text-4xl font-bold text-center mb-10">Häufige Fragen</h2>
    <div class="bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg divide-y divide-gray-200 border border-gray-200">
      
      <!-- ✅ Frage 1 -->
      <details class="group p-6">
        <summary class="flex justify-between items-center cursor-pointer text-lg font-medium">
          <span>Wie schnell kann eine Besichtigung vereinbart werden?</span>
          <span class="transition-transform group-open:rotate-180 text-gray-500">⌄</span>
        </summary>
        <p class="mt-4 text-gray-600 leading-relaxed">
          In der Regel können Besichtigungstermine innerhalb von 2–3 Werktagen vereinbart werden.  
          Eine genaue Abstimmung erfolgt direkt über den zuständigen Ansprechpartner.
        </p>
      </details>
      
      <!-- ✅ Frage 2 -->
      <details class="group p-6">
        <summary class="flex justify-between items-center cursor-pointer text-lg font-medium">
          <span>Sind die Immobilien real oder nur zu Demonstrationszwecken?</span>
          <span class="transition-transform group-open:rotate-180 text-gray-500">⌄</span>
        </summary>
        <p class="mt-4 text-gray-600 leading-relaxed">
          Diese Website dient ausschließlich als Demonstration.  
          Alle dargestellten Immobilien, Bilder und Informationen sind fiktiv und zu Präsentationszwecken erstellt.
        </p>
      </details>
      
      <!-- ✅ Frage 3 -->
      <details class="group p-6">
        <summary class="flex justify-between items-center cursor-pointer text-lg font-medium">
          <span>Kann später ein Chatbot für Anfragen integriert werden?</span>
          <span class="transition-transform group-open:rotate-180 text-gray-500">⌄</span>
        </summary>
        <p class="mt-4 text-gray-600 leading-relaxed">
          Ja, die Seite ist bereits dafür vorbereitet.  
          Ein Chatbot kann integriert werden, um Anfragen zu Immobilien, Besichtigungen und Exposés automatisiert zu beantworten.
        </p>
      </details>     
    </div>
  </div>
</section>



<!-- ✅ Sticky CTA -->
<a href="#" class="sticky-cta">Exposé anfordern</a>

<!-- ✅ Footer -->
<footer class="bg-gray-100 border-t border-gray-200 text-gray-600 text-sm">
  <div class="max-w-6xl mx-auto px-8 py-12 grid md:grid-cols-4 gap-8">
    
    <!-- ImmoBot -->
    <div>
      <h3 class="font-semibold text-gray-800 mb-3">ImmoBot</h3>
      <p>Eine moderne Immobilien-Demoseite – klar strukturiert und jederzeit erweiterbar.</p>
    </div>
    
    <!-- Rechtliches -->
    <div>
      <h3 class="font-semibold text-gray-800 mb-3">Rechtliches</h3>
      <ul>
        <li><a href="/rechtliches" class="hover:text-green-700">Impressum & Datenschutz</a></li>
      </ul>
    </div>
    
    <!-- Kontakt -->
    <div>
      <h3 class="font-semibold text-gray-800 mb-3">Kontakt</h3>
      <p>E-Mail: <a href="mailto:info@immobot.de" class="hover:text-green-700">info@immobot.de</a></p>
      <p>Tel.: +49 30 123 4567</p>
    </div>
    
  <div>
  <h3 class="font-semibold text-gray-800 mb-3">Service</h3>
  <a href="#" class="font-semibold text-gray-800 hover:text-green-700">
    Immobilien ansehen
  </a>
</div>

    
  </div>
  
  <!-- ✅ Bottom Bar -->
  <div class="text-center text-xs text-gray-400 py-4 border-t border-gray-200">
    © 2025 ImmoBot. Alle Rechte vorbehalten.
  </div>
</footer>





<!-- ✅ JS: Scroll Animation + Mobile Menu + Smart Sticky Header -->
<script>
  // Scroll Animation
  const observer = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      if (entry.isIntersecting) entry.target.classList.add('visible');
    });
  }, { threshold: 0.15 });
  document.querySelectorAll('[data-animate]').forEach(el => observer.observe(el));

  // Mobile Menu
  const burgerBtn = document.getElementById('burgerBtn');
  const mobileMenu = document.getElementById('mobileMenu');
  const overlay = document.getElementById('menuOverlay');
  const links = document.querySelectorAll('.mobile-link');
  burgerBtn.addEventListener('click', () => {
    mobileMenu.classList.toggle('hidden');
    overlay.classList.toggle('active');
    document.body.classList.toggle('overflow-hidden');
  });
  overlay.addEventListener('click', closeMenu);
  links.forEach(link => link.addEventListener('click', closeMenu));
  function closeMenu() {
    mobileMenu.classList.add('hidden');
    overlay.classList.remove('active');
    document.body.classList.remove('overflow-hidden');
  }

  // ✅ Smart Sticky Header
  let lastScroll = 0;
  const header = document.getElementById('mainHeader');
  window.addEventListener('scroll', () => {
    const currentScroll = window.scrollY;
    if (currentScroll > lastScroll && currentScroll > 80) {
      header.style.transform = 'translateY(-100%)'; // nach oben ausblenden
    } else {
      header.style.transform = 'translateY(0)'; // einblenden
    }
    lastScroll = currentScroll;
  });
</script>

</body>
</html>
